<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>快速集成 | 云直播文档</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="云直播安卓SDK文档">
    
    <link rel="preload" href="/ccdoc/assets/css/0.styles.5cd3e0f9.css" as="style"><link rel="preload" href="/ccdoc/assets/js/app.a9de829f.js" as="script"><link rel="preload" href="/ccdoc/assets/js/2.c82fb5c4.js" as="script"><link rel="preload" href="/ccdoc/assets/js/10.82ab97d5.js" as="script"><link rel="prefetch" href="/ccdoc/assets/js/11.c2d12ce2.js"><link rel="prefetch" href="/ccdoc/assets/js/3.4122aa84.js"><link rel="prefetch" href="/ccdoc/assets/js/4.fccfc994.js"><link rel="prefetch" href="/ccdoc/assets/js/5.c012071c.js"><link rel="prefetch" href="/ccdoc/assets/js/6.f449b019.js"><link rel="prefetch" href="/ccdoc/assets/js/7.d8bf586d.js"><link rel="prefetch" href="/ccdoc/assets/js/8.4231a2f5.js"><link rel="prefetch" href="/ccdoc/assets/js/9.0847abae.js">
    <link rel="stylesheet" href="/ccdoc/assets/css/0.styles.5cd3e0f9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ccdoc/" class="home-link router-link-active"><!----> <span class="site-name">云直播文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ccdoc/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/ccdoc/pages/6aaaf02dd210e3d2.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ccdoc/language/chinese/" class="nav-link">
  Chinese
</a></li><li class="dropdown-item"><!----> <a href="/ccdoc/language/japanese/" class="nav-link">
  Japanese
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ccdoc/pages/9a7ee40fc232253e/" class="nav-link">
  学习
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ccdoc/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/ccdoc/pages/6aaaf02dd210e3d2.html" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Language Menu" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ccdoc/language/chinese/" class="nav-link">
  Chinese
</a></li><li class="dropdown-item"><!----> <a href="/ccdoc/language/japanese/" class="nav-link">
  Japanese
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><span class="title">更多</span> <span class="arrow down"></span></button> <button type="button" aria-label="更多" class="mobile-dropdown-title"><span class="title">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/ccdoc/pages/9a7ee40fc232253e/" class="nav-link">
  学习
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/ccdoc/pages/6aaaf02dd210e3d2/" aria-current="page" class="active sidebar-link">快速集成</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_1-概述" class="sidebar-link">1. 概述</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_1-1阅读对象" class="sidebar-link">1.1阅读对象</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_1-3-最低版本要求" class="sidebar-link">1.3 最低版本要求</a></li></ul></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_2-开发准备" class="sidebar-link">2. 开发准备</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_2-1-开发环境" class="sidebar-link">2.1 开发环境</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_2-2-混淆配置" class="sidebar-link">2.2 混淆配置</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_2-3-权限配置" class="sidebar-link">2.3 权限配置</a></li></ul></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_3-快速集成" class="sidebar-link">3. 快速集成</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_3-1-maven集成" class="sidebar-link">3.1 maven集成</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_3-2-本地集成" class="sidebar-link">3.2 本地集成</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_3-3-配置动态库" class="sidebar-link">3.3 配置动态库</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_3-4-初始化sdk" class="sidebar-link">3.4 初始化SDK</a></li></ul></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_4-集成说明" class="sidebar-link">4. 集成说明</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/6aaaf02dd210e3d2/#_5-注意事项" class="sidebar-link">5. 注意事项</a></li></ul></li><li><a href="/ccdoc/pages/b1c5a40a838f892a/" class="sidebar-link">直播接入文档</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_1-直播核心功能" class="sidebar-link">1. 直播核心功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_1-1直播登录" class="sidebar-link">1.1直播登录</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_1-2-直播播放视频和文档" class="sidebar-link">1.2 直播播放视频和文档</a></li></ul></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-直播其他功能" class="sidebar-link">2. 直播其他功能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-1-聊天功能" class="sidebar-link">2.1 聊天功能</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-2-问答功能" class="sidebar-link">2.2 问答功能</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-3-签到功能" class="sidebar-link">2.3 签到功能</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-4-抽奖1-0" class="sidebar-link">2.4 抽奖1.0</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-5-抽奖2-0" class="sidebar-link">2.5 抽奖2.0</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-6-公告功能" class="sidebar-link">2.6 公告功能</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-7-问卷功能" class="sidebar-link">2.7 问卷功能</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-8-广播功能" class="sidebar-link">2.8 广播功能</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-9-答题卡功能-投票功能" class="sidebar-link">2.9 答题卡功能（投票功能）</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-10-随堂测功能" class="sidebar-link">2.10 随堂测功能</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-11-连麦功能" class="sidebar-link">2.11 连麦功能</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-12-音频模式-deprecated-2021-10-08" class="sidebar-link">2.12 音频模式（Deprecated 2021-10-08）</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-13-获取在线人数" class="sidebar-link">2.13 获取在线人数</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-14-用户踢出" class="sidebar-link">2.14 用户踢出</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-15-打卡" class="sidebar-link">2.15 打卡</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-16-上下课逻辑" class="sidebar-link">2.16 上下课逻辑</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-17-历史文档数据" class="sidebar-link">2.17 历史文档数据</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-18-线路切换-deprecated-2021-10-08" class="sidebar-link">2.18 线路切换（Deprecated 2021-10-08）</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-19-清晰度切换" class="sidebar-link">2.19 清晰度切换</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-20-线路切换" class="sidebar-link">2.20 线路切换</a></li><li class="sidebar-sub-header"><a href="/ccdoc/pages/b1c5a40a838f892a/#_2-21-音视频播放模式切换" class="sidebar-link">2.21 音视频播放模式切换</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>本文档为技术文档，需要阅读者：</p> <ul><li>具备基本的Android开发能</li> <li>准备接入HD视频直播或者回放功能</li> <li>对HD云直播产品使用方法有基础的了解，<a href="http://doc.bokecc.com/live" target="_blank" rel="noopener noreferrer">使用帮助地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ul></div> <p>{
  &quot;title&quot;: &quot;快速集成&quot;,
  &quot;frontmatter&quot;: {
    &quot;title&quot;: &quot;快速集成&quot;,
    &quot;date&quot;: &quot;2023-03-20T14:27:01.000Z&quot;,
    &quot;permalink&quot;: &quot;/pages/6aaaf02dd210e3d2&quot;,
    &quot;categories&quot;: [
      &quot;云直播文档&quot;
    ]
  },
  &quot;regularPath&quot;: &quot;/livedoc/01%20%E5%BF%AB%E9%80%9F%E9%9B%86%E6%88%90.html&quot;,
  &quot;relativePath&quot;: &quot;livedoc/01 快速集成.md&quot;,
  &quot;key&quot;: &quot;v-2f79194a&quot;,
  &quot;path&quot;: &quot;/pages/6aaaf02dd210e3d2/&quot;,
  &quot;headers&quot;: [
    {
      &quot;level&quot;: 2,
      &quot;title&quot;: &quot;1. 概述&quot;,
      &quot;slug&quot;: &quot;_1-概述&quot;
    },
    {
      &quot;level&quot;: 3,
      &quot;title&quot;: &quot;1.1阅读对象&quot;,
      &quot;slug&quot;: &quot;_1-1阅读对象&quot;
    },
    {
      &quot;level&quot;: 3,
      &quot;title&quot;: &quot;1.3 最低版本要求&quot;,
      &quot;slug&quot;: &quot;_1-3-最低版本要求&quot;
    },
    {
      &quot;level&quot;: 2,
      &quot;title&quot;: &quot;2. 开发准备&quot;,
      &quot;slug&quot;: &quot;_2-开发准备&quot;
    },
    {
      &quot;level&quot;: 3,
      &quot;title&quot;: &quot;2.1 开发环境&quot;,
      &quot;slug&quot;: &quot;_2-1-开发环境&quot;
    },
    {
      &quot;level&quot;: 3,
      &quot;title&quot;: &quot;2.2 混淆配置&quot;,
      &quot;slug&quot;: &quot;_2-2-混淆配置&quot;
    },
    {
      &quot;level&quot;: 3,
      &quot;title&quot;: &quot;2.3 权限配置&quot;,
      &quot;slug&quot;: &quot;_2-3-权限配置&quot;
    },
    {
      &quot;level&quot;: 2,
      &quot;title&quot;: &quot;3. 快速集成&quot;,
      &quot;slug&quot;: &quot;_3-快速集成&quot;
    },
    {
      &quot;level&quot;: 3,
      &quot;title&quot;: &quot;3.1 maven集成&quot;,
      &quot;slug&quot;: &quot;_3-1-maven集成&quot;
    },
    {
      &quot;level&quot;: 3,
      &quot;title&quot;: &quot;3.2 本地集成&quot;,
      &quot;slug&quot;: &quot;_3-2-本地集成&quot;
    },
    {
      &quot;level&quot;: 3,
      &quot;title&quot;: &quot;3.3 配置动态库&quot;,
      &quot;slug&quot;: &quot;_3-3-配置动态库&quot;
    },
    {
      &quot;level&quot;: 3,
      &quot;title&quot;: &quot;3.4 初始化SDK&quot;,
      &quot;slug&quot;: &quot;_3-4-初始化sdk&quot;
    },
    {
      &quot;level&quot;: 2,
      &quot;title&quot;: &quot;4. 集成说明&quot;,
      &quot;slug&quot;: &quot;_4-集成说明&quot;
    },
    {
      &quot;level&quot;: 2,
      &quot;title&quot;: &quot;5. 注意事项&quot;,
      &quot;slug&quot;: &quot;_5-注意事项&quot;
    }
  ]
}</p> <h2 id="_1-概述"><a href="#_1-概述" class="header-anchor">#</a> 1. 概述</h2> <p>Android Live SDK 是适用于Android平台的云直播SDK，使用此SDK可以与HD视频云直播服务进行对接</p> <h3 id="_1-1阅读对象"><a href="#_1-1阅读对象" class="header-anchor">#</a> 1.1阅读对象</h3> <p>本文档为技术文档，需要阅读者：</p> <ul><li>具备基本的Android开发能力</li> <li>准备接入HD视频直播或者回放功能</li> <li>对HD云直播产品使用方法有基础的了解，<a href="http://doc.bokecc.com/live" target="_blank" rel="noopener noreferrer">使用帮助地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</li></ul> <h3 id="_1-3-最低版本要求"><a href="#_1-3-最低版本要求" class="header-anchor">#</a> 1.3 最低版本要求</h3> <p>Android 4.3</p> <h2 id="_2-开发准备"><a href="#_2-开发准备" class="header-anchor">#</a> 2. 开发准备</h2> <h3 id="_2-1-开发环境"><a href="#_2-1-开发环境" class="header-anchor">#</a> 2.1 开发环境</h3> <ul><li>Android Studio  3.0之上</li> <li>Android SDK   官方SDK</li> <li>targetSdkVersion版本 不高于29，minSdkVersion不小于19</li></ul> <h3 id="_2-2-混淆配置"><a href="#_2-2-混淆配置" class="header-anchor">#</a> 2.2 混淆配置</h3> <p>SDK代码已经过混淆，如果需要对接入应用进行代码混淆，需要在配置文件中增加如下代码，防止SDK的二次混淆</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code><span class="token operator">-</span>keep <span class="token keyword">class</span> <span class="token class-name">com<span class="token punctuation">.</span>bokecc<span class="token punctuation">.</span></span><span class="token operator">**</span><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token operator">-</span>keep <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">com<span class="token punctuation">.</span>bokecc<span class="token punctuation">.</span></span><span class="token operator">**</span><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token operator">-</span>keep <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token operator">**</span><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

<span class="token operator">-</span>keep <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">tv<span class="token punctuation">.</span></span><span class="token operator">**</span><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

<span class="token operator">-</span>keep <span class="token keyword">class</span> <span class="token class-name">org<span class="token punctuation">.</span>webrtc<span class="token punctuation">.</span></span><span class="token operator">**</span><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token operator">-</span>keep <span class="token keyword">class</span> <span class="token class-name">com<span class="token punctuation">.</span>intel<span class="token punctuation">.</span>webrtc<span class="token punctuation">.</span>base<span class="token punctuation">.</span></span><span class="token operator">**</span><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token operator">-</span>keep <span class="token keyword">interface</span> <span class="token class-name">com<span class="token punctuation">.</span>intel<span class="token punctuation">.</span>webrtc<span class="token punctuation">.</span>base<span class="token punctuation">.</span></span><span class="token operator">**</span><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

<span class="token operator">-</span>keep <span class="token keyword">class</span> <span class="token class-name">com<span class="token punctuation">.</span>tencent<span class="token punctuation">.</span>smtt<span class="token punctuation">.</span></span><span class="token operator">**</span><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token operator">-</span>keep <span class="token keyword">interface</span> <span class="token class-name">com<span class="token punctuation">.</span>tencent<span class="token punctuation">.</span>smtt<span class="token punctuation">.</span></span><span class="token operator">**</span><span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token operator">-</span>keep <span class="token keyword">class</span> <span class="token class-name">com<span class="token punctuation">.</span>tencent<span class="token punctuation">.</span>tbs<span class="token punctuation">.</span></span><span class="token operator">**</span> <span class="token punctuation">{</span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>

<span class="token operator">-</span>dontwarn com<span class="token punctuation">.</span>bokecc<span class="token punctuation">.</span>sdk<span class="token punctuation">.</span>mobile<span class="token punctuation">.</span>*<span class="token operator">*</span>
<span class="token operator">-</span>dontwarn com<span class="token punctuation">.</span>hd<span class="token punctuation">.</span>http<span class="token punctuation">.</span>*<span class="token operator">*</span>
<span class="token operator">-</span>keep <span class="token keyword">class</span> <span class="token class-name">com<span class="token punctuation">.</span>hd<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token operator">**</span><span class="token punctuation">{</span> <span class="token operator">*</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-3-权限配置"><a href="#_2-3-权限配置" class="header-anchor">#</a> 2.3 权限配置</h3> <p>AndroidManifest.xml中manifest节点下添加权限</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--观看直播需要权限--&gt;</span>   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.INTERNET<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.READ_EXTERNAL_STORAGE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.WRITE_EXTERNAL_STORAGE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.ACCESS_WIFI_STATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.ACCESS_NETWORK_STATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>   
<span class="token comment">&lt;!--连麦需要权限--&gt;</span>  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.VIBRATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>       
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.CAMERA<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>         
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.RECORD_AUDIO<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>   
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.MODIFY_AUDIO_SETTINGS<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>android.permission.READ_PHONE_STATE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>如果t<code>argetSdkVersion&gt;=29</code>在manifest 中application节点添加</p> <div class="language-xml extra-class"><pre class="language-xml"><code>android:usesCleartextTraffic=&quot;true&quot;
</code></pre></div><p>SDK3.10.0 版本之下需要在application节点下添加如下内容做兼容处理</p> <div class="language-xml extra-class"><pre class="language-xml"><code> <span class="token comment">&lt;!-- 兼容 Android P --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-library</span>
   <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.apache.http.legacy<span class="token punctuation">&quot;</span></span>
   <span class="token attr-name"><span class="token namespace">android:</span>required</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><h2 id="_3-快速集成"><a href="#_3-快速集成" class="header-anchor">#</a> 3. 快速集成</h2> <h3 id="_3-1-maven集成"><a href="#_3-1-maven集成" class="header-anchor">#</a> 3.1 maven集成</h3> <p>从3.8.0版本开始提供maven集成方式，如果需要使用maven远程引用需要在项目根目录build.gradle中的repositories节点添加</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>maven <span class="token punctuation">{</span>
    http<span class="token punctuation">:</span><span class="token interpolation-string"><span class="token string">//</span></span>nexus<span class="token operator">-</span>app<span class="token punctuation">.</span>bokecc<span class="token punctuation">.</span>com<span class="token interpolation-string"><span class="token string">/repository/</span></span>sdk<span class="token operator">-</span>group<span class="token operator">/</span>
<span class="token punctuation">}</span>
maven <span class="token punctuation">{</span> url <span class="token interpolation-string"><span class="token string">&quot;http://maven.aliyun.com/nexus/content/repositories/releases&quot;</span></span><span class="token punctuation">}</span>
</code></pre></div><p>然后在需要引用的模块路径下的build.gradle中添加</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>dependencies <span class="token punctuation">{</span>
    implementation <span class="token string">'com.bokecc:dwlivesdk:${version}'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-2-本地集成"><a href="#_3-2-本地集成" class="header-anchor">#</a> 3.2 本地集成</h3> <p>4.0.0之前需要下载相应版本的SDK，下载地址为：<a href="https://hdgit.bokecc.com/ccvideo/Live_Android_Play_SDK/-/releases" target="_blank" rel="noopener noreferrer">Live_Android_Play_SDK<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>参考demo将libs文件夹下的jar包和so包导入到项目相应位置</p> <p>4.0.0之后不再提供本地依赖</p> <h3 id="_3-3-配置动态库"><a href="#_3-3-配置动态库" class="header-anchor">#</a> 3.3 配置动态库</h3> <p>在app的build.gradle里面的defaultConfig中配置so库cpu平台：</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>ndk <span class="token punctuation">{</span>
    abiFilters <span class="token string">'armeabi-v7a'</span><span class="token punctuation">,</span> <span class="token string">'arm64-v8a'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-4-初始化sdk"><a href="#_3-4-初始化sdk" class="header-anchor">#</a> 3.4 初始化SDK</h3> <h4 id="_3-4-1-主动调用api"><a href="#_3-4-1-主动调用api" class="header-anchor">#</a> 3.4.1 主动调用api</h4> <p>直播需要主动调用的方法在DWLiveEngine.java (DWLiveEngine为单例) 中，如下：</p> <table><thead><tr><th style="text-align:left;">方法</th> <th style="text-align:left;">说明</th></tr></thead> <tbody><tr><td style="text-align:left;">init(Application app)</td> <td style="text-align:left;">初始化，默认关闭日志</td></tr> <tr><td style="text-align:left;">init(Application app, boolean enableLog)</td> <td style="text-align:left;">初始化，主动配置是否开启日志</td></tr> <tr><td style="text-align:left;">init(final Application app, boolean enableLog, boolean enableX5)</td> <td style="text-align:left;">初始化，主动配置是否开启日志，是否开启x5</td></tr> <tr><td style="text-align:left;">init(final Application app, boolean enableLog, boolean enableX5,boolean isMultiplayer)</td> <td style="text-align:left;">初始化，主动配置是否开启日志，是否开启x5，是否初始化多人连麦</td></tr></tbody></table> <h4 id="_3-4-2-关键代码示例"><a href="#_3-4-2-关键代码示例" class="header-anchor">#</a> 3.4.2 关键代码示例</h4> <p>初始化必须在登录之前进行，建议在Application在onCreate方法中</p> <p>@param context   上下文 Application</p> <p>@param  enableLog  是否开启日志输出</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">DWLiveEngine</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化SDK true:开启日志</span>
  	<span class="token class-name">DWLiveEngine</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>app<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            
    
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                                                  
    <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">i</span><span class="token punctuation">(</span><span class="token constant">TAG</span><span class="token punctuation">,</span> <span class="token string">&quot;DWLiveEngine has init&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  
<span class="token punctuation">}</span>                                                         
</code></pre></div><h2 id="_4-集成说明"><a href="#_4-集成说明" class="header-anchor">#</a> 4. 集成说明</h2> <p>请仔细配置上述过程，完成以上操作才可以开始集成直播和回放的功能</p> <h2 id="_5-注意事项"><a href="#_5-注意事项" class="header-anchor">#</a> 5. 注意事项</h2> <p>为了增加效率，在线回放和离线回放会使用sd卡进行数据缓存。缓存的路径为/data/data/包名/file/metadata2/ (对应的方法为getFilesDir)</p> <p>用户可自行根据缓存区大小来清除缓存</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/ccdoc/pages/b1c5a40a838f892a/">
        直播接入文档
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ccdoc/assets/js/app.a9de829f.js" defer></script><script src="/ccdoc/assets/js/2.c82fb5c4.js" defer></script><script src="/ccdoc/assets/js/10.82ab97d5.js" defer></script>
  </body>
</html>
